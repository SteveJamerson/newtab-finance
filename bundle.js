(()=>{var t={919:()=>{var t=function(){"use strict";return{init:function(){var t=document.querySelectorAll("[data-active]");for(let e=0;e<t.length;e++)t[e].addEventListener("click",(t=>{t.preventDefault();const e="active",i=t.target.getAttribute("data-active"),a=document.getElementById(i),n=a.classList.contains(e),o=document.querySelectorAll(`[data-active=${i}]`),r=n?"remove":"add";o.forEach((t=>t.classList[r](e))),a.classList[r](e)}))}}}();document.addEventListener("DOMContentLoaded",(function(){"use strict";t.init()}))},351:()=>{var t=function(){"use strict";const t=t=>{const e=t.replace(/\D/g,"")/100;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)};return{init:function(){var e=document.querySelectorAll("[data-price]");for(let i=0;i<e.length;i++)e[i].addEventListener("input",(e=>{e.preventDefault();const i=e.target;i.value=t(i.value)}))}}}();document.addEventListener("DOMContentLoaded",(function(){"use strict";t.init()}))},462:(t,e,i)=>{"use strict";i.d(e,{Z:()=>d});var a=i(81),n=i.n(a),o=i(645),r=i.n(o)()(n());r.push([t.id,'*,*::before,*::after{box-sizing:border-box}@media(prefers-reduced-motion: no-preference){:root{scroll-behavior:smooth}}html{font-size:16px;font-weight:400}body{margin:0;font-family:"Lato",sans-serif;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0)}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h6,h5,h4,h3,h2,h1{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media(min-width: 1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media(min-width: 1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media(min-width: 1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media(min-width: 1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:.5rem}abbr[title],abbr[data-bs-original-title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}ol,ul,dl{margin-top:0;margin-bottom:1rem}ol ol,ul ul,ol ul,ul ol{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}pre,code,kbd,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}thead,tbody,tfoot,tr,td,th{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block;margin-bottom:.5rem}button{border-radius:0}button:focus:not(:focus-visible){outline:0}input,button,select,optgroup,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button:not(:disabled),[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media(min-width: 1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-text,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none !important}.container,.navbar-content{display:block;width:100%;margin:0 auto;padding:0 .875rem}.container-fluid{width:100%;display:block}@media(min-width: 576px){.container,.navbar-content{max-width:540px}}@media(min-width: 768px){.container,.navbar-content{max-width:720px}}@media(min-width: 992px){.container,.navbar-content{max-width:960px}}@media(min-width: 1200px){.container,.navbar-content{max-width:1140px}}@media(min-width: 1400px){.container,.navbar-content{max-width:1320px}}.col-12{max-width:100% !important}.col-11{max-width:91.6666666667% !important}.col-10{max-width:83.3333333333% !important}.col-9{max-width:75% !important}.col-8{max-width:66.6666666667% !important}.col-7{max-width:58.3333333333% !important}.col-6{max-width:50% !important}.col-5{max-width:41.6666666667% !important}.col-4{max-width:33.3333333333% !important}.col-3{max-width:25% !important}.col-2{max-width:16.6666666667% !important}.col-1{max-width:8.3333333333% !important}@media(min-width: 0){.col-xs-12{max-width:100% !important}}@media(min-width: 0){.col-xs-11{max-width:91.6666666667% !important}}@media(min-width: 0){.col-xs-10{max-width:83.3333333333% !important}}@media(min-width: 0){.col-xs-9{max-width:75% !important}}@media(min-width: 0){.col-xs-8{max-width:66.6666666667% !important}}@media(min-width: 0){.col-xs-7{max-width:58.3333333333% !important}}@media(min-width: 0){.col-xs-6{max-width:50% !important}}@media(min-width: 0){.col-xs-5{max-width:41.6666666667% !important}}@media(min-width: 0){.col-xs-4{max-width:33.3333333333% !important}}@media(min-width: 0){.col-xs-3{max-width:25% !important}}@media(min-width: 0){.col-xs-2{max-width:16.6666666667% !important}}@media(min-width: 0){.col-xs-1{max-width:8.3333333333% !important}}@media(min-width: 576px){.col-sm-12{max-width:100% !important}}@media(min-width: 576px){.col-sm-11{max-width:91.6666666667% !important}}@media(min-width: 576px){.col-sm-10{max-width:83.3333333333% !important}}@media(min-width: 576px){.col-sm-9{max-width:75% !important}}@media(min-width: 576px){.col-sm-8{max-width:66.6666666667% !important}}@media(min-width: 576px){.col-sm-7{max-width:58.3333333333% !important}}@media(min-width: 576px){.col-sm-6{max-width:50% !important}}@media(min-width: 576px){.col-sm-5{max-width:41.6666666667% !important}}@media(min-width: 576px){.col-sm-4{max-width:33.3333333333% !important}}@media(min-width: 576px){.col-sm-3{max-width:25% !important}}@media(min-width: 576px){.col-sm-2{max-width:16.6666666667% !important}}@media(min-width: 576px){.col-sm-1{max-width:8.3333333333% !important}}@media(min-width: 768px){.col-md-12{max-width:100% !important}}@media(min-width: 768px){.col-md-11{max-width:91.6666666667% !important}}@media(min-width: 768px){.col-md-10{max-width:83.3333333333% !important}}@media(min-width: 768px){.col-md-9{max-width:75% !important}}@media(min-width: 768px){.col-md-8{max-width:66.6666666667% !important}}@media(min-width: 768px){.col-md-7{max-width:58.3333333333% !important}}@media(min-width: 768px){.col-md-6{max-width:50% !important}}@media(min-width: 768px){.col-md-5{max-width:41.6666666667% !important}}@media(min-width: 768px){.col-md-4{max-width:33.3333333333% !important}}@media(min-width: 768px){.col-md-3{max-width:25% !important}}@media(min-width: 768px){.col-md-2{max-width:16.6666666667% !important}}@media(min-width: 768px){.col-md-1{max-width:8.3333333333% !important}}@media(min-width: 992px){.col-lg-12{max-width:100% !important}}@media(min-width: 992px){.col-lg-11{max-width:91.6666666667% !important}}@media(min-width: 992px){.col-lg-10{max-width:83.3333333333% !important}}@media(min-width: 992px){.col-lg-9{max-width:75% !important}}@media(min-width: 992px){.col-lg-8{max-width:66.6666666667% !important}}@media(min-width: 992px){.col-lg-7{max-width:58.3333333333% !important}}@media(min-width: 992px){.col-lg-6{max-width:50% !important}}@media(min-width: 992px){.col-lg-5{max-width:41.6666666667% !important}}@media(min-width: 992px){.col-lg-4{max-width:33.3333333333% !important}}@media(min-width: 992px){.col-lg-3{max-width:25% !important}}@media(min-width: 992px){.col-lg-2{max-width:16.6666666667% !important}}@media(min-width: 992px){.col-lg-1{max-width:8.3333333333% !important}}@media(min-width: 1200px){.col-xl-12{max-width:100% !important}}@media(min-width: 1200px){.col-xl-11{max-width:91.6666666667% !important}}@media(min-width: 1200px){.col-xl-10{max-width:83.3333333333% !important}}@media(min-width: 1200px){.col-xl-9{max-width:75% !important}}@media(min-width: 1200px){.col-xl-8{max-width:66.6666666667% !important}}@media(min-width: 1200px){.col-xl-7{max-width:58.3333333333% !important}}@media(min-width: 1200px){.col-xl-6{max-width:50% !important}}@media(min-width: 1200px){.col-xl-5{max-width:41.6666666667% !important}}@media(min-width: 1200px){.col-xl-4{max-width:33.3333333333% !important}}@media(min-width: 1200px){.col-xl-3{max-width:25% !important}}@media(min-width: 1200px){.col-xl-2{max-width:16.6666666667% !important}}@media(min-width: 1200px){.col-xl-1{max-width:8.3333333333% !important}}@media(min-width: 1400px){.col-xxl-12{max-width:100% !important}}@media(min-width: 1400px){.col-xxl-11{max-width:91.6666666667% !important}}@media(min-width: 1400px){.col-xxl-10{max-width:83.3333333333% !important}}@media(min-width: 1400px){.col-xxl-9{max-width:75% !important}}@media(min-width: 1400px){.col-xxl-8{max-width:66.6666666667% !important}}@media(min-width: 1400px){.col-xxl-7{max-width:58.3333333333% !important}}@media(min-width: 1400px){.col-xxl-6{max-width:50% !important}}@media(min-width: 1400px){.col-xxl-5{max-width:41.6666666667% !important}}@media(min-width: 1400px){.col-xxl-4{max-width:33.3333333333% !important}}@media(min-width: 1400px){.col-xxl-3{max-width:25% !important}}@media(min-width: 1400px){.col-xxl-2{max-width:16.6666666667% !important}}@media(min-width: 1400px){.col-xxl-1{max-width:8.3333333333% !important}}[class*=col-]{flex:0 0 auto}[class^=col]{padding:0 .875rem}.row{display:flex;flex-wrap:wrap;margin:0 -0.875rem}.row>*{width:100%;max-width:100%}.col{flex:1 0 0%}.gap-0{gap:0}.gap-x-0{column-gap:0}.gap-y-0{row-gap:0}.gap-1{gap:.25rem}.gap-x-1{column-gap:.25rem}.gap-y-1{row-gap:.25rem}.gap-2{gap:.5rem}.gap-x-2{column-gap:.5rem}.gap-y-2{row-gap:.5rem}.gap-3{gap:1rem}.gap-x-3{column-gap:1rem}.gap-y-3{row-gap:1rem}.gap-4{gap:1.5rem}.gap-x-4{column-gap:1.5rem}.gap-y-4{row-gap:1.5rem}.gap-5{gap:3rem}.gap-x-5{column-gap:3rem}.gap-y-5{row-gap:3rem}.field{appearance:none;width:100%;padding:calc(.375rem - 1px);color:#333;background-color:transparent;border:1px solid #979797;border-radius:.25rem}.field::placeholder{color:#888}.field.invalid{border-color:#de0000}.table{width:100%}.table td,.table th{padding:.375rem}.table tr>*:last-child{text-align:end}.table tbody tr{border-top:1px solid #979797}.table tbody.empty *,.table tbody.loading *{text-align:center;border:0}.table tfoot{vertical-align:baseline;border-top:.25rem double #979797}.table-responsive{width:100%;overflow-x:auto}.navbar{position:sticky;top:0;z-index:1200;display:flex;align-items:center;width:100%;background-color:#979797;color:#333;min-height:60px}.navbar-content{position:relative;width:100%;display:flex;margin:0 auto;align-items:center;flex-direction:column;-webkit-overflow-scrolling:touch}@media(min-width: 991.98px){.navbar-content{flex-direction:row}}.navbar-toggle{appearance:none;position:relative;width:1.5rem;aspect-ratio:1;border:0;padding:0;background:transparent}.navbar-toggle-icon,.navbar-toggle-icon::before,.navbar-toggle-icon::after{display:block;position:relative;width:1.5rem;height:.125rem;border:0;border-radius:5px;background-color:#333;color:#333;pointer-events:none;transition:.3s}.navbar-toggle-icon::before{content:"";position:absolute;transform:translateY(-0.5rem)}.navbar-toggle-icon::after{content:"";position:absolute;transform:translateY(0.5rem)}.navbar-toggle.active .navbar-toggle-icon{background-color:transparent}.navbar-toggle.active .navbar-toggle-icon::before{transform:translateY(0) rotate(45deg)}.navbar-toggle.active .navbar-toggle-icon::after{transform:translateY(0) rotate(-45deg)}@media(min-width: 991.98px){.navbar-toggle{display:none}}.navbar-brand{position:relative;width:100%;display:flex;align-items:center;justify-content:space-between;gap:1rem}@media(min-width: 991.98px){.navbar-brand{justify-content:flex-start}}.navbar-brand *{margin:0}.navbar-brand-title{cursor:pointer}.navbar-brand-title img{display:flex}.navbar-nav{position:relative;height:max-content;display:flex;flex-direction:column;z-index:1300;width:100%;transition:.3s}@media(min-width: 991.98px){.navbar-nav{width:auto;margin-left:auto;justify-content:space-between;background-color:#fff}}@media(max-width: 992px){.navbar-nav{position:fixed;top:0;right:-100%;width:auto;min-width:250px;height:100%;text-align:end;background-color:#333;color:#fff}.navbar-nav.active{right:0}.navbar-nav.active::before{content:"";position:fixed;left:0;top:0;width:calc(100% - 250px);height:100%;background-color:#00000012;backdrop-filter:blur(1px);transition:1s}}.navbar-close{display:flex;align-items:center;justify-content:start;height:60px;text-align:start;padding:.375rem 1rem}.navbar-close .navbar-toggle *,.navbar-close .navbar-toggle *::after,.navbar-close .navbar-toggle *::before{color:#fff;background-color:#fff}@media(min-width: 991.98px){.navbar-close{display:none}}.navbar-links{position:relative;display:flex;flex-direction:column;padding:0;margin:0;list-style:none;overflow:hidden;padding:.375rem 0}@media(min-width: 991.98px){.navbar-links{align-items:center;flex-direction:row}}.navbar-link{padding:.375rem 1rem;font-weight:600;cursor:pointer;transition:.3s;white-space:nowrap}.navbar-link a{text-decoration:none;color:inherit;white-space:nowrap}@media(max-width: 992px){.navbar-link+.navbar-link{margin-top:.375rem}.navbar-link.active,.navbar-link:hover{color:#333;background-color:#979797}}@media(min-width: 991.98px){.navbar-link{padding:0 1rem}.navbar-link+.navbar-link{border-left:1px solid #979797}}.button{appearance:none;display:flex;justify-content:center;align-items:center;padding:calc(.375rem - 1px) 2rem;background-clip:border-box;border:1px solid transparent;border-radius:.25rem}.button.full{width:100%}.button.primary{color:#fff;background-color:#333}.form-add{position:sticky;top:calc(60px + 2rem);display:flex;flex-direction:column;gap:1rem;border-bottom:1px solid #979797;padding-bottom:2rem}@media(min-width: 767.98px){.form-add{padding:1rem;border:1px solid #979797;border-radius:.25rem}}.form-add h5{text-align:center;font-weight:600}.form-add .row{row-gap:1rem}@media(min-width: 767.98px)and (max-width: 992px){.form-add [type=submit]{width:max-content;margin-left:auto}}.invoice h5{text-align:center;font-weight:600}.table p{margin:0}',""]);const d=r},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",a=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),a&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),a&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,a,n,o){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(a)for(var d=0;d<this.length;d++){var m=this[d][0];null!=m&&(r[m]=!0)}for(var l=0;l<t.length;l++){var s=[].concat(t[l]);a&&r[s[0]]||(void 0!==o&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=o),i&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=i):s[2]=i),n&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=n):s[4]="".concat(n)),e.push(s))}},e}},81:t=>{"use strict";t.exports=function(t){return t[1]}},379:t=>{"use strict";var e=[];function i(t){for(var i=-1,a=0;a<e.length;a++)if(e[a].identifier===t){i=a;break}return i}function a(t,a){for(var o={},r=[],d=0;d<t.length;d++){var m=t[d],l=a.base?m[0]+a.base:m[0],s=o[l]||0,c="".concat(l," ").concat(s);o[l]=s+1;var p=i(c),h={css:m[1],media:m[2],sourceMap:m[3],supports:m[4],layer:m[5]};if(-1!==p)e[p].references++,e[p].updater(h);else{var x=n(h,a);a.byIndex=d,e.splice(d,0,{identifier:c,updater:x,references:1})}r.push(c)}return r}function n(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,n){var o=a(t=t||[],n=n||{});return function(t){t=t||[];for(var r=0;r<o.length;r++){var d=i(o[r]);e[d].references--}for(var m=a(t,n),l=0;l<o.length;l++){var s=i(o[l]);0===e[s].references&&(e[s].updater(),e.splice(s,1))}o=m}}},569:t=>{"use strict";var e={};t.exports=function(t,i){var a=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(i)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,i)=>{"use strict";t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var a="";i.supports&&(a+="@supports (".concat(i.supports,") {")),i.media&&(a+="@media ".concat(i.media," {"));var n=void 0!==i.layer;n&&(a+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),a+=i.css,n&&(a+="}"),i.media&&(a+="}"),i.supports&&(a+="}");var o=i.sourceMap;o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(a,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function i(a){var n=e[a];if(void 0!==n)return n.exports;var o=e[a]={id:a,exports:{}};return t[a](o,o.exports,i),o.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var a in e)i.o(e,a)&&!i.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=i(379),e=i.n(t),a=i(795),n=i.n(a),o=i(569),r=i.n(o),d=i(565),m=i.n(d),l=i(216),s=i.n(l),c=i(589),p=i.n(c),h=i(462),x={};x.styleTagTransform=p(),x.setAttributes=m(),x.insert=r().bind(null,"head"),x.domAPI=n(),x.insertStyleElement=s(),e()(h.Z,x),h.Z&&h.Z.locals&&h.Z.locals,i(919),i(351);const u="5826";class w{constructor(t,e,i,a,n){this._type=t,this._name=e,this._date=i,this._quantity=a,this._price=n}static create(t,e,i,a,n){const o=new Date(i.replace(/-/g,",")),r=parseInt(a),d=parseFloat(n.replace(/\D/g,""))/100;return new w(t,e,o,r,d)}get name(){return this._name}get type(){return this._type}get price(){return this._price}get quantity(){return this._quantity}get amount(){return this._quantity*this._price*("+"===this._type?1:-1)}get date(){return this._date}}class g{_transactions=[];add(t){this._transactions.push(t)}delete(t){"all"===t?this._transactions=[]:this._transactions.splice(t,1)}import(t){t.forEach((t=>{this._transactions.push(new w(t._type,t._name,t._date,t._quantity,t._price))}))}list(){return this._transactions}}class f{_url="https://api.airtable.com/v0/appRNtYLglpPhv2QD/Historico";_headers=new Headers({Authorization:"Bearer key2CwkHb0CKumjuM","Content-Type":"application/json"});get(){return fetch(`${this._url}?filterByFormula=Responsavel=5826`,{headers:this._headers}).then((t=>t.json())).then((t=>t)).catch((t=>console.log(t)))}post(t){return fetch(this._url,{method:"POST",headers:this._headers,body:JSON.stringify(t)}).then((t=>t.json())).then((t=>t)).catch((t=>console.log(t)))}patch(t,e){return fetch(`${this._url}/${e}`,{method:"PATCH",headers:this._headers,body:JSON.stringify(t)}).then((t=>t.json())).then((t=>t)).catch((t=>console.log(t)))}delete(t){return fetch(`${this._url}/${t}`,{method:"DELETE",headers:this._headers}).then((t=>t.json())).then((t=>t)).catch((t=>console.log(t)))}}function b(t){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t||0).replace(/\s+/," ")}class v extends class{elemento;constructor(t){const e=document.querySelector(t);if(!e)throw Error(`Seletor ${t} não existe no DOM. Verifique`);this.elemento=e}update(t,e){let i=this.template(t,e);this.elemento.innerHTML=i}template(t,e){throw Error("Template não implementado.")}}{template(t,e){return e?'<tbody class="loading"><tr><td>loading</td></tr></tbody>':t.list().length?`\n            <thead>\n               <tr>\n                  <td></td>\n                  <th>Mercadoria</th>\n                  <th>Quantidade</th>\n                  <th>Valor</th>\n               </tr>\n            </thead>\n            <tbody>\n                ${t.list().map((t=>`\n                        <tr>\n                            <td>${t.type}\n                            </td>\n                            <td>\n                                ${t.name}\n                            </td>\n                            <td>\n                                ${t.quantity}\n                                <small>x ${this._formatPrice(t.price)}</small>\n                            </td>\n                            <td>\n                                ${this._formatPrice(t.amount)}\n                            </td>\n                        </tr>\n                    `)).join("")}\n            </tbody>\n            <tfoot>\n               <tr>\n                  <td></td>\n                  <th>Total</th>\n                  <td></td>\n                  <td>\n                     <p><b>${this._profit(t.list().map((t=>t.amount)))}</b></p>\n                     <small>[${this._profit(t.list().map((t=>t.amount)),"number")>=0?"LUCRO":"PREJUIZO"}]</small>\n                  </td>\n               </tr>\n            </tfoot>\n        `:'<tbody class="empty"><tr><td>Sem registros</td></tr></tbody>'}_formatDate(t){return(new Intl.DateTimeFormat).format(t)}_profit(t,e="currency"){const i=t.reduce(((t,e)=>t+(e||0)),0);return"currency"===e?b(i):i}_formatPrice(t){return b(Math.abs(t))}}class y{_transactions=new g;_transactionsView;_transactionService=new f;_form;id=null;loading=!0;constructor(t,e){this._form=t,this._transactionsView=new v(e),this._transactionsView.update(this._transactions),this.init()}init(){this._updateView(),this._transactionService.get().then((({records:t})=>{this.id=t[0]?.id,this._transactions.import(JSON.parse(t[0]?.fields.Json||"[]"))})).finally((()=>{this.loading=!1,this._updateView()}))}add(){const{type:t,name:e,date:i,quantity:a,price:n}=this._form.elements,o=this._validation([{element:t,regex:/(-|\+)/},{element:e,regex:/^.{1,}$/},{element:i,regex:/\d{4}-\d{2}-\d{2}/},{element:a,regex:/^[1-9]|[0]{1,}[1-9]/},{element:n,regex:/^R\$\s?((\d{1,3}\.)+)?(\d{1,3}\,)(\d{2})$/}]);if(o.length)return void alert(`Campo(s) inválidos: ${o.map((t=>t.name)).join("; ")}`);const r=w.create(t.value,e.value,i.value,a.value,n.value);this._transactions.add(r),this._updateView();const d={fields:{Responsavel:u,Json:JSON.stringify(this._transactions.list())}};this._transactionService[this.id?"patch":"post"](d,this.id).then((({id:t})=>this.id=t)),this._clearForm()}delete(t){"all"===t&&this.id&&(this._transactionService.delete(this.id),this.id=null),this._transactions.delete(t),this._updateView()}_clearForm(){this._form.reset()}_updateView(){this._transactionsView.update(this._transactions,this.loading)}_validation(t){return t.map((({element:t,regex:e})=>{const i=new RegExp(e).test(t.value);return t.classList[i?"remove":"add"]("invalid"),{valid:i,name:t.name}})).filter((t=>!t.valid))}}document.addEventListener("DOMContentLoaded",(function(){const t=document.getElementById("form-add"),e=new y(t,"#invoiceView"),i=document.getElementById("clear");t.addEventListener("submit",(i=>{i.preventDefault(),e.add(t.elements)})),i.addEventListener("click",(t=>{t.preventDefault(),e.delete("all")}))}))})()})();